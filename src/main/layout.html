{% from 'util/alert/index.html' import alert with context %}
{% from 'util/code/index.html' import code, command with context %}
{% from 'util/image/index.html' import image with context %}
{% from 'util/section/index.html' import section, section_further_reading with context %}
{% from 'util/source/index.html' import sitelink, sourcelink, sourcelist with context %}

{% if id %}
	{% set current = sitemap.find( id ) %}
	{% set identifier = id %}
{% endif %}

<!DOCTYPE html>

<html lang="en">
<head>
	<meta charset=utf-8 />
	<title>{{ ( title | striptags ) if title }}{{ ' â€” ' if title else '' }}Scala on Android</title>
	<link rel="stylesheet" type="text/css" media="screen" href="/asset/stylesheet/agate.css" />
	<link rel="stylesheet" type="text/css" media="screen" href="/asset/stylesheet/main.css" />
</head>
<body>
	{% include 'include/header/index.html' %}
	<main id="{{ identifier }}">
		{% call alert( 'warning' ) %}
		<p>
			This document is under active development, changes frequently and does not claim to be correct. It is available only for demonstration purposes and should not be used to educate about the topic. A stable version of the {{ names.name( 'scala-android' ) }} documentation will ship by end of July!
		</p>
		{% endcall %}
		{% block content %}{% endblock %}
	</main>
	{% include 'include/footer/index.html' %}

	<script data-main="/asset/javascript/main" src="/asset/javascript/require-2.1.17.min.js"></script>
	{% include './include/analytics.html' %}
	<script type="application/ld+json">
	{
		"@context" : "http://schema.org",
		"@type" : "WebSite",
		"name" : "Scala on Android",
		"url" : "http://scala-on-android.taig.io/"
	}
	</script>
	{% if id and not sitemap.find( id ).skip %}
		{% set paths = sitemap.path( current ) %}
		<script type="application/ld+json">
		{
			"@context": "http://schema.org",
			"@type": "BreadcrumbList",
			"itemListElement":
			[
				{% for path in paths %}
				{
					"@type": "ListItem",
					"position": {{ loop.index }},
					"item":
					{
						"@id": "{{ path.url }}",
						"name": "{{ path.title | striptags }}"
					}
				}{{ ',' if not loop.last }}
				{% endfor %}
			]
		}
		</script>
	{% elif not id %}
		<script type="application/ld+json">
		{
			"@context": "http://schema.org",
			"@type": "BreadcrumbList",
			"itemListElement":
			[
				{
					"@type": "ListItem",
					"position": 1,
					"item":
					{
						"@id": "/{{ identifier }}",
						"name": "{{ title }}"
					}
				}
			]
		}
		</script>
	{% endif %}
</body>
</html>