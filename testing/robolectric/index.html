<!DOCTYPE html><html lang=en><head><meta charset=utf-8><meta name=description content="Testing Scala on Android applications with Robolectric"><meta name=keywords content="Scala on Android, Scala, Android, documentation, tutorial, development, Robolectric, tests, unit tests, instrumentation tests"><meta name=viewport content="width=device-width,initial-scale=1,user-scalable=no"><title>Scala on Android</title><link rel=stylesheet type=text/css media=screen href=/asset/stylesheet/agate.css><link rel=stylesheet type=text/css media=screen href=/asset/stylesheet/main.css><link rel=icon href=/asset/image/favicon.png><link rel=manifest href=/manifest.json><meta property=og:title content="Scala on Android"><meta property=og:description content="Testing Scala on Android applications with Robolectric"><meta property=og:type content=website><meta property=og:url content=http://scala-on-android.taig.io/testing/robolectric><meta property=og:image content=/asset/image/scala-android-icon.svg><meta name=twitter:card content=summary><meta name=twitter:title content="Scala on Android"><meta name=twitter:description content="Testing Scala on Android applications with Robolectric"><meta name=twitter:image content=/asset/image/scala-android-icon.svg></head><body><header><div id=title><a href="/"><h1><strong>Scala</strong> on <strong>Android</strong></h1><h2>The comprehensive documentation</h2></a></div><nav><a href="/"><span>Table of contents</span></a><div class=shadow><div class=wrapper><ol><li><a href=/introduction>Introduction</a></li><li><a href=/about>About this documentation</a></li><li><a href=/prerequisites>Prerequisites</a></li><li><a href=/build-tool>Build Tool</a><ol><li><a href=/build-tool/sbt><em>Scala Build Tool (<abbr>sbt</abbr>)</em></a></li></ol></li><li><a href=/project-setup>Project setup</a></li><li><a href=/editor>Editors and <abbr title="Integrated Development Environment">IDE</abbr>s</a><ol><li><a href=/editor/intellij-idea><em>IntelliJ IDEA</em></a></li><li><a href=/editor/android-studio><em>Android Studio</em></a></li></ol></li><li><a href=/command-line>Working with the command line</a></li><li><a href=/dependencies>Dependencies</a></li><li><a href=/proguard><em>ProGuard</em></a><ol><li><a href=/proguard/cache>Cache</a></li></ol></li><li><a href=/typed-resources><em>Typed Resources (<abbr>TR</abbr>)</em></a></li><li><a href=/parcelable><em>Parcelable</em></a></li><li><a href=/testing>Testing</a><ol><li class=active><a href=/testing/robolectric><em>Robolectric</em></a></li></ol></li><li><a href=/library-project>Library projects</a></li><li><a href=/publishing>Publishing</a></li></ol></div></div></nav></header><main id=testing-robolectric><section><div class="meta level-1"><button><span>Details</span></button><div class=wrapper><ul><li><span class=label>Information reliability</span> <span class=reliability><strong>Sustainable</strong> <em>Won't become outdated</em></span></li><li><span class=edit>Last edit</span> <span class=date>Fri Jul 10 19:44:32 2015 +0200</span></li><li><a href=https://github.com/taig/scala-on-android/edit/master/src/main/page/testing/robolectric/introduction.html target=_blank>Edit on <em>GitHub</em></a></li></ul></div></div><h2><em>Robolectric</em></h2><p><em>Robolectric</em> provides an implementation for the <abbr title="Android Software Development Kit">Android SDK</abbr> for your local <abbr title="Java Virtual Machine">JVM</abbr> installation. So instead of packaging up a testing <code class=inline data-language="">*.apk</code> and deploying it to the device just to run the unit tests, you can instead execute the code on your development machine. This huge timesaver and popular tool is also available for <em>Scala on Android</em> users. You can even take this one step further and leverage the advanced features of <em>ScalaTest</em> instead of plain old <em>junit</em>.</p></section><section><div class="meta level-3"><button><span>Details</span></button><div class=wrapper><ul><li><span class=label>Information reliability</span> <span class=reliability><strong>Fragile</strong> <em>Might become outdated very soon</em></span></li><li><span class=edit>Last edit</span> <span class=date>Fri Jul 10 19:44:32 2015 +0200</span></li><li><a href=https://github.com/taig/scala-on-android/edit/master/src/main/page/testing/robolectric/configuration.html target=_blank>Edit on <em>GitHub</em></a></li></ul></div></div><h3>Configuration</h3><p>To enable unit testing with <em>ScalaTest</em> and <em>Robolectric</em> in your project, you need an additional library in your testing scope, called <em>RoboTest</em>. Expand your <abbr title="Scala Build Tool">sbt</abbr> configuration as follows.</p><pre class=code><code class=highlight>libraryDependencies ++=
    <span class=hljs-string>"com.geteit"</span> %% <span class=hljs-string>"robotest"</span> % <span class=hljs-string>"0.12"</span> % <span class=hljs-string>"test"</span> ::
    <span class=hljs-string>"org.scalatest"</span> %% <span class=hljs-string>"scalatest"</span> % <span class=hljs-string>"2.2.5"</span> % <span class=hljs-string>"test"</span> ::
    <span class=hljs-type>Nil</span>

fork in <span class=hljs-type>Test</span> := <span class=hljs-literal>true</span></code></pre><p>Please have a look at the <em>RoboTest</em> <a href=https://github.com/zbsz/robotest title="GitHub project page" target=_blank><em>RoboTest</em></a> documentation for further configuration details.</p><aside class="alert hint"><p>The <a href=https://github.com/taig/hello-scala title="GitHub repository that serves as Scala on Android project starter template" target=_blank>Hello Scala!</a> project template is preconfigured to support <em>ScalaTest</em> and <em>Robolectric</em> unit tests and does also include sample test cases.</p></aside></section><section><div class="meta level-3"><button><span>Details</span></button><div class=wrapper><ul><li><span class=label>Information reliability</span> <span class=reliability><strong>Fragile</strong> <em>Might become outdated very soon</em></span></li><li><span class=edit>Last edit</span> <span class=date>Sat Aug 29 13:39:41 2015 +0200</span></li><li><a href=https://github.com/taig/scala-on-android/edit/master/src/main/page/testing/robolectric/usage.html target=_blank>Edit on <em>GitHub</em></a></li></ul></div></div><h3>Usage</h3><p>Place your unit tests in the <code class=inline data-language="">./src/test/scala</code> directory. All test classes may be equipped with an <code class=inline data-language="">@Config</code> annotation for <em>Robolectric</em>. The annotation allows you to manually specify the <code class=inline data-language="">AndroidManifest.xml</code> file location or <abbr title="Android Software Development Kit">Android SDK</abbr> version to use for text execution.</p><p>Below is a fully functional test case taken from the <a href=https://github.com/taig/hello-scala title="GitHub repository that serves as Scala on Android project starter template" target=_blank>Hello Scala!</a> repository.</p><pre class=code><code class=highlight><span class=hljs-keyword>package</span> com.example.test

<span class=hljs-keyword>import</span> android.os.<span class=hljs-type>Build</span>.<span class=hljs-type>VERSION_CODES</span>.<span class=hljs-type>LOLLIPOP</span>
<span class=hljs-keyword>import</span> com.example.<span class=hljs-type>R</span>
<span class=hljs-keyword>import</span> org.robolectric.<span class=hljs-type>RuntimeEnvironment</span>
<span class=hljs-keyword>import</span> org.robolectric.annotation.<span class=hljs-type>Config</span>
<span class=hljs-keyword>import</span> org.scalatest.{<span class=hljs-type>Matchers</span>, <span class=hljs-type>FlatSpec</span>, <span class=hljs-type>FeatureSpec</span>, <span class=hljs-type>RobolectricSuite</span>}

<span class=hljs-annotation>@Config</span>( sdk = <span class=hljs-type>Array</span>( <span class=hljs-type>LOLLIPOP</span> ) )
<span class=hljs-class><span class=hljs-keyword>class</span>   <span class=hljs-title>Test</span>
</span><span class=hljs-keyword>extends</span> <span class=hljs-type>FlatSpec</span>
<span class=hljs-keyword>with</span>    <span class=hljs-type>Matchers</span>
<span class=hljs-keyword>with</span>    <span class=hljs-type>RobolectricSuite</span> {
    <span class=hljs-string>"Resources"</span> should <span class=hljs-string>"be accessible via R"</span> in {
        <span class=hljs-type>RuntimeEnvironment</span>.application.getString( <span class=hljs-type>R</span>.string.name ) shouldBe <span class=hljs-string>"Hello Scala!"</span>
    }
}</code></pre></section><section data-src=sources.js data-level=0><h3>Further reading</h3><ul class=further-reading><li><a href="http://robolectric.org/" target=_blank><em>Robolectric</em></a><p>Official project page</p></li><li><a href=https://github.com/zbsz/robotest target=_blank><em>RoboTest</em></a><p><em>GitHub</em> project page</p></li><li><a href=https://github.com/taig/hello-scala target=_blank>Hello Scala!</a><p><em>GitHub</em> repository that serves as <em>Scala on Android</em> project starter template</p></li><li><a href="https://github.com/pfn/android-sdk-plugin/tree/master/sbt-test/" target=_blank><em>Android SDK Plugin for SBT</em> samples</a><p>Sample projects on <em>GitHub</em></p></li></ul></section><section><h3>Comments</h3><div id=disqus_thread></div><script type=text/javascript>var disqus_shortname="scala-on-android",disqus_identifier="testing-robolectric",disqus_title="Scala on Android";!function(){var e=document.createElement("script");e.type="text/javascript",e.async=!0,e.src="//"+disqus_shortname+".disqus.com/embed.js",(document.getElementsByTagName("head")[0]||document.getElementsByTagName("body")[0]).appendChild(e)}();</script><noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript" rel="nofollow">comments powered by Disqus.</a></noscript></section></main><footer><div class=story><div class=back><a href=/testing>Testing</a></div><div class=continue><a href=/library-project>Library projects</a></div></div><div class=fixtures><div class=left><ul><li><a href="https://github.com/taig/scala-on-android/" title="Scala on Android" target=_blank>Fork me on <em>GitHub</em></a></li><li><a href=/help>Getting help</a></li></ul></div><div class=center><img src=/asset/image/scala-android-logo.svg alt="Scala on Android logo"> <span class=version>Version 1.0.5</span></div><div class=right><ul><li><a href=/sources>Sources</a></li><li><a href=/software>Software</a></li><li><a href=/abbreviations>Abbreviations</a></li></ul></div></div></footer><script data-main=/asset/javascript/main src=/asset/javascript/require-2.1.17.min.js></script><script>!function(e,a,t,n,c,o,s){e.GoogleAnalyticsObject=c,e[c]=e[c]||function(){(e[c].q=e[c].q||[]).push(arguments)},e[c].l=1*new Date,o=a.createElement(t),s=a.getElementsByTagName(t)[0],o.async=1,o.src=n,s.parentNode.insertBefore(o,s)}(window,document,"script","//www.google-analytics.com/analytics.js","ga"),ga("create","UA-64109905-1","auto"),ga("send","pageview");</script><script type=application/ld+json>{
	"@context" : "http://schema.org",
	"@type" : "WebSite",
	"name" : "Scala on Android",
	"url" : "http://scala-on-android.taig.io/"
}</script><script type=application/ld+json>{
	"@context": "http://schema.org",
	"@type": "BreadcrumbList",
	"itemListElement":
	[
		
		{
			"@type": "ListItem",
			"position": 1,
			"item":
			{
				"@id": "/testing",
				"name": "Testing"
			}
		},
		
		{
			"@type": "ListItem",
			"position": 2,
			"item":
			{
				"@id": "/testing/robolectric",
				"name": "Robolectric"
			}
		}
		
	]
}</script></body></html>