<!DOCTYPE html><html lang=en><head><meta charset=utf-8><meta name=description content="Setting up Android Studio for Scala on Android development"><meta name=keywords content="Scala on Android, Scala, Android, documentation, tutorial, development, Android Studio, Scala Build Tool (sbt), configuration"><meta name=viewport content="width=device-width,initial-scale=1,user-scalable=no"><title>Scala on Android</title><link rel=stylesheet type=text/css media=screen href=/asset/stylesheet/agate.css><link rel=stylesheet type=text/css media=screen href=/asset/stylesheet/main.css><link rel=icon href=/asset/image/favicon.png><link rel=manifest href=/manifest.json><meta property=og:title content="Scala on Android"><meta property=og:description content="Setting up Android Studio for Scala on Android development"><meta property=og:type content=website><meta property=og:url content=http://scala-on-android.taig.io/editor/android-studio><meta property=og:image content=http://scala-on-android.taig.io/asset/image/scala-android-icon.svg><meta name=twitter:card content=summary><meta name=twitter:title content="Scala on Android"><meta name=twitter:description content="Setting up Android Studio for Scala on Android development"><meta name=twitter:image content=http://scala-on-android.taig.io/asset/image/scala-android-icon.svg></head><body><header><div id=title><a href="/"><h1><strong>Scala</strong> on <strong>Android</strong></h1><h2>The comprehensive documentation</h2></a></div><nav><a href="/"><span>Table of contents</span></a><div class=shadow><div class=wrapper><ol><li><a href=/introduction>Introduction</a></li><li><a href=/about>About this documentation</a></li><li><a href=/prerequisites>Prerequisites</a></li><li><a href=/build-tool>Build Tool</a><ol><li><a href=/build-tool/sbt><em>Scala Build Tool (<abbr>sbt</abbr>)</em></a></li></ol></li><li><a href=/project-setup>Project setup</a></li><li><a href=/editor>Editors and <abbr title="Integrated Development Environment">IDE</abbr>s</a><ol><li><a href=/editor/intellij-idea><em>IntelliJ IDEA</em></a></li><li class=active><a href=/editor/android-studio><em>Android Studio</em></a></li></ol></li><li><a href=/command-line>Working with the command line</a></li><li><a href=/dependencies>Dependencies</a></li><li><a href=/proguard><em>ProGuard</em></a><ol><li><a href=/proguard/cache>Cache</a></li></ol></li><li><a href=/typed-resources><em>Typed Resources (<abbr>TR</abbr>)</em></a></li><li><a href=/parcelable><em>Parcelable</em></a></li><li><a href=/testing>Testing</a><ol><li><a href=/testing/robolectric><em>Robolectric</em></a></li></ol></li><li><a href=/library-project>Library projects</a></li><li><a href=/publishing>Publishing</a></li></ol></div></div></nav></header><main id=editor-android-studio><section><section><div class="meta level-3"><button><span>Details</span></button><div class=wrapper><ul><li><span class=label>Information reliability</span> <span class=reliability><strong>Fragile</strong> <em>Might become outdated very soon</em></span></li><li><span class=edit>Last edit</span> <span class=date>Fri Jul 10 19:44:32 2015 +0200</span></li><li><a href=https://github.com/taig/scala-on-android/edit/master/src/main/page/editor/android-studio/introduction.html target=_blank>Edit on <em>GitHub</em></a></li></ul></div></div><h2><em>Android Studio</em></h2><p>The official <abbr title="Integrated Development Environment">IDE</abbr> for <em>Android</em> works surprisingly well with <em>Scala Build Tool (<abbr>sbt</abbr>)</em>. You can use it to edit code, run &amp; deploy the app from within the <abbr title="Integrated Development Environment">IDE</abbr>, access the <abbr title="Scala Build Tool">sbt</abbr> console and use the debugger. However, there is currently an issue with the <abbr title="Android Software Development Kit">Android SDK</abbr>. All references to the <abbr title="Software Development Kit">SDK</abbr> render as red code, even though the <abbr title="Integrated Development Environment">IDE</abbr> manages to import them for you. This does only happen in <em>Scala</em> code, <em>Java</em> sources are not affected by this.</p><aside class="alert warning"><em>Android Studio</em> should currently not be used for development with <abbr title="Scala Build Tool">sbt</abbr> and <em>Scala</em>. Chances are, however, that it's a good fit for a <em>Gradle</em> + <em>Scala</em> setup.</aside><p><a href=http://developer.android.com/sdk/index.html title="Android Studio download" target=_blank>Download</a> and install <em>Android Studio</em> from the official website.</p></section><section><div class="meta level-2"><button><span>Details</span></button><div class=wrapper><ul><li><span class=label>Information reliability</span> <span class=reliability><strong>Moderate</strong> <em>Might become outdated</em></span></li><li><span class=edit>Last edit</span> <span class=date>Fri Jul 10 19:44:32 2015 +0200</span></li><li><a href=https://github.com/taig/scala-on-android/edit/master/src/main/page/editor/android-studio/plugins.html target=_blank>Edit on <em>GitHub</em></a></li></ul></div></div><h3>Plugins</h3><p>After startup make sure to first install the <em>Scala</em> and <abbr title="Scala Build Tool">sbt</abbr> plugins as shown below.</p><div class=image><a href=/asset/image/android-studio-start-screen-configure.png target=_blank><img src=/asset/image/android-studio-start-screen-configure.png alt="On the start screen click Configure"></a></div><div class=image><a href=/asset/image/android-studio-start-screen-plugins.png target=_blank><img src=/asset/image/android-studio-start-screen-plugins.png alt="Click on Plugins"></a></div><div class=image><a href=/asset/image/android-studio-start-screen-plugins-repositories.png target=_blank><img src=/asset/image/android-studio-start-screen-plugins-repositories.png alt="Click on Browse repositories"></a></div><div class=image><a href=/asset/image/android-studio-start-screen-plugins-scala.png target=_blank><img src=/asset/image/android-studio-start-screen-plugins-scala.png alt="Search for scala and install the Scala (custom language) plugin"></a></div><div class=image><a href=/asset/image/android-studio-start-screen-plugins-sbt.png target=_blank><img src=/asset/image/android-studio-start-screen-plugins-sbt.png alt="Search for sbt and install the SBT (build) plugin"></a></div><p>Now close the plugins configuration and restart the <abbr title="Integrated Development Environment">IDE</abbr> to apply the changes.</p></section><section><div class="meta level-2"><button><span>Details</span></button><div class=wrapper><ul><li><span class=label>Information reliability</span> <span class=reliability><strong>Moderate</strong> <em>Might become outdated</em></span></li><li><span class=edit>Last edit</span> <span class=date>Fri Jul 10 19:44:32 2015 +0200</span></li><li><a href=https://github.com/taig/scala-on-android/edit/master/src/main/page/editor/android-studio/import.html target=_blank>Edit on <em>GitHub</em></a></li></ul></div></div><h3>Open Project</h3><p>Now, opening a <abbr title="Scala Build Tool">sbt</abbr> <em>Scala on Android</em> is dead simple.</p><div class=image><a href=/asset/image/android-studio-start-screen-import.png target=_blank><img src=/asset/image/android-studio-start-screen-import.png alt="On the start screen click Import project"></a></div><p>Select the root directory of the project that you prepared in the <a href=/project-setup>Project setup</a> section.</p><div class=image><a href=/asset/image/android-studio-start-screen-import-sbt.png target=_blank><img src=/asset/image/android-studio-start-screen-import-sbt.png alt="Select Import project from external model: SBT and click Next"></a></div><div class=image><a href=/asset/image/android-studio-start-screen-import-settings.png target=_blank><img src=/asset/image/android-studio-start-screen-import-settings.png alt="Select download (sbt) sources and docs, set Android API as project SDK and click Finish"></a></div><p>You are now able to edit code and access the <abbr title="Scala Build Tool">sbt</abbr> console from within <em>Android Studio</em> (<code class=inline data-language="">View &gt; Tool Windows &gt; SBT Console</code>).</p></section><section><div class="meta level-3"><button><span>Details</span></button><div class=wrapper><ul><li><span class=label>Information reliability</span> <span class=reliability><strong>Fragile</strong> <em>Might become outdated very soon</em></span></li><li><span class=edit>Last edit</span> <span class=date>Fri Jul 10 19:44:32 2015 +0200</span></li><li><a href=https://github.com/taig/scala-on-android/edit/master/src/main/page/editor/android-studio/configuration.html target=_blank>Edit on <em>GitHub</em></a></li></ul></div></div><h3>Configuration</h3><p>To run, package and debug your app from within the <abbr title="Integrated Development Environment">IDE</abbr>, further adjustments are necessary.</p><div class=image><a href=/asset/image/android-studio-edit-configurations.png target=_blank><img src=/asset/image/android-studio-edit-configurations.png alt="Select Edit Configurations... on the main IDE screen"></a></div><div class=image><a href=/asset/image/android-studio-edit-configurations-add.png target=_blank><img src=/asset/image/android-studio-edit-configurations-add.png alt="Click the + icon to add a configuration"></a></div><div class=image><a href=/asset/image/android-studio-edit-configurations-add-android-app.png target=_blank><img src=/asset/image/android-studio-edit-configurations-add-android-app.png alt="Add an Android Application"></a></div><div class=image><a href=/asset/image/android-studio-edit-configurations-add-android-app-settings.png target=_blank><img src=/asset/image/android-studio-edit-configurations-add-android-app-settings.png alt="Add a Before launch SBT task"></a></div><div class=image><a href=/asset/image/android-studio-edit-configurations-add-android-app-settings-sbt-details.png target=_blank><img src=/asset/image/android-studio-edit-configurations-add-android-app-settings-sbt-details.png alt="Insert android:package"></a></div><p>You should now be able to run and debug your code via the <abbr title="Integrated Development Environment">IDE</abbr> controls. If the build progress gets stuck, open the <abbr title="Scala Build Tool">sbt</abbr> console (<code class=inline data-language="">View &gt; Tool Windows &gt; SBT Console</code>) to see detailed error messages.</p></section><section><div class="meta level-2"><button><span>Details</span></button><div class=wrapper><ul><li><span class=label>Information reliability</span> <span class=reliability><strong>Moderate</strong> <em>Might become outdated</em></span></li><li><span class=edit>Last edit</span> <span class=date>Fri Jul 10 19:44:32 2015 +0200</span></li><li><a href=https://github.com/taig/scala-on-android/edit/master/src/main/page/editor/android-studio/manifest.html target=_blank>Edit on <em>GitHub</em></a></li></ul></div></div><h3>Manifest</h3><p>Some manifest values (e.g. the <code class=inline data-language="">version</code> and <code class=inline data-language="">targetSdkVersion</code>) can be specified in the <abbr title="Scala Build Tool">sbt</abbr> configuration file. The <em>Android SDK Plugin for SBT</em> will then inject the values into the existing <em>AndroidManifest.xml</em> and save it at <code class=inline data-language="">./target/android-bin/AndroidManifest.xml</code>. If you don't let <em>Android Studio</em> know about the patched manifest file, the <abbr title="Integrated Development Environment">IDE</abbr> might annoy you with linting messages that some <abbr title="Application Programming Interface">API</abbr> calls are not available with a <code class=inline data-language="">minSdkVersion</code> of 0.</p><div class=image><a href=/asset/image/android-studio-project-structure.png target=_blank><img src=/asset/image/android-studio-project-structure.png alt="On the main IDE screen, click button Project Structure"></a></div><div class=image><a href=/asset/image/android-studio-project-structure-manifest.png target=_blank><img src=/asset/image/android-studio-project-structure-manifest.png alt="Select AndroidManifest file"></a></div><div class=image><a href=/asset/image/android-studio-project-structure-manifest-details.png target=_blank><img src=/asset/image/android-studio-project-structure-manifest-details.png alt="Navigate to and select ./target/android-bin/AndroidManifest.xml"></a></div></section><section><div class="meta level-3"><button><span>Details</span></button><div class=wrapper><ul><li><span class=label>Information reliability</span> <span class=reliability><strong>Fragile</strong> <em>Might become outdated very soon</em></span></li><li><span class=edit>Last edit</span> <span class=date>Sat Aug 29 13:51:29 2015 +0200</span></li><li><a href=https://github.com/taig/scala-on-android/edit/master/src/main/page/editor/troubleshooting.html target=_blank>Edit on <em>GitHub</em></a></li></ul></div></div><h3>Troubleshooting</h3><abbr title="Integrated Development Environment">IDE</abbr> integration tends to break easily. If it doesn't work for you, have a look on the methods below to overcome common issues.<h4><em>gen-idea</em></h4><p>If the <abbr title="Integrated Development Environment">IDE</abbr> import does not work out, you can let the <em>gen-idea</em> <abbr title="Scala Build Tool">sbt</abbr> plugin generate the configuration files instead.</p><p><em>gen-idea</em> is a <abbr title="Scala Build Tool">sbt</abbr> task that generates configuration files for the <em>IntelliJ IDEA</em>. To install the <a href=https://github.com/mpeltonen/sbt-idea title="sbt plugin: gen-idea" target=_blank><em>gen-idea</em></a> plugin create the file <code class=inline data-language="">~/.sbt/0.13/plugins/gen-idea.sbt</code> (the filename is arbitrary) with the contents below.</p><pre class=code><code class=highlight>resolvers += "Sonatype snapshots" at "https://oss.sonatype.org/content/repositories/snapshots/"

addSbtPlugin( "com.github.mpeltonen" % "sbt-idea" % "1.7.0-SNAPSHOT" )</code></pre><p>This makes the <em>gen-idea</em> <abbr title="Scala Build Tool">sbt</abbr> command globally available.</p><p>Now, navigate your terminal to the project root directory and run <code class=inline data-language="">sbt gen-idea</code>. This will create <em>IntelliJ IDEA</em> 13 configuration files, but newer versions of <em>IntelliJ IDEA</em> are able to convert the configuration to their appropriate format.</p><p>You can now chose the <em>Open</em> option of the <em>IntelliJ IDEA</em> and select the root directory of your project.</p><div class=image><a href=/asset/image/intellij-idea-open.png target=_blank><img src=/asset/image/intellij-idea-open.png alt="Selection of IntelliJ IDEA open menu"></a></div><div class=image><a href=/asset/image/intellij-idea-convert-project.png target=_blank><img src=/asset/image/intellij-idea-convert-project.png alt="Convert a project configuration of an older IntelliJ IDEA version to the current one"></a></div><p>Converting the project files only needs to be done once at the initial setup. When the <abbr title="Integrated Development Environment">IDE</abbr> finished loading you may delete the <code class=inline data-language="">/projectFilesBackup</code> folder.</p><h4>Import the <em>Android</em> dependency explicitly</h4><p>If your setup is basically working, but imports of the <abbr title="Android Software Development Kit">Android SDK</abbr> are red, you can fix that by manually importing the <code class=inline data-language="">android.jar</code>. Go to <code class=inline data-language="">File → Project Structure</code> and change the <abbr title="Software Development Kit">SDK</abbr> of each module (in the <code class=inline data-language="">Dependencies</code> tab) from <em>Android</em> to a simple <em>Java</em> <abbr title="Software Development Kit">SDK</abbr>. Then, add the <code class=inline data-language="">android.jar</code> via <code class=inline data-language="">+ → JARs or directories</code> and navigate to <code class=inline data-language="">$ANDROID_HOME/platforms/android-x/android.jar</code>.</p><p>This approach does unfortunately sacrifice the <abbr title="Integrated Development Environment">IDE</abbr> source code lookup for <em>Android</em> sources.</p><h4>Start all over</h4><p>If everything fails, remove the .idea* directories from the project's root directory and start over by importing the <abbr title="Scala Build Tool">sbt</abbr> project.</p></section><section data-src=sources.js data-level=0><h3>Further reading</h3><ul class=further-reading><li><a href=http://developer.android.com/tools/studio/index.html target=_blank><em>Android Studio</em></a><p>Official <em>Android</em> <abbr title="Integrated Development Environment">IDE</abbr>, based on <em>IntelliJ IDEA</em></p></li><li><a href=http://developer.android.com/sdk/index.html target=_blank><em>Android Studio</em> download</a><p>Official download page</p></li><li><a href="http://engineering.gutefrage.net/2015/01/15/building-an-android-app-using-scala/" target=_blank>Building an <em>Android</em> app using <em>Scala</em></a><p>A brief tutorial of setting up a <em>Scala on Android</em> project with <em>Gradle</em> and <em>Android Studio</em></p></li></ul></section></section><section><h3>Comments</h3><div id=disqus_thread></div><script type=text/javascript>var disqus_shortname="scala-on-android",disqus_identifier="editor-android-studio",disqus_title="Scala on Android";!function(){var e=document.createElement("script");e.type="text/javascript",e.async=!0,e.src="//"+disqus_shortname+".disqus.com/embed.js",(document.getElementsByTagName("head")[0]||document.getElementsByTagName("body")[0]).appendChild(e)}();</script><noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript" rel="nofollow">comments powered by Disqus.</a></noscript></section></main><footer><div class=story><div class=back><a href=/editor/intellij-idea><em>IntelliJ IDEA</em></a></div><div class=continue><a href=/command-line>Working with the command line</a></div></div><div class=fixtures><div class=left><ul><li><a href="https://github.com/taig/scala-on-android/" title="Scala on Android" target=_blank>Fork me on <em>GitHub</em></a></li><li><a href=/help>Getting help</a></li></ul></div><div class=center><img src=/asset/image/scala-android-logo.svg alt="Scala on Android logo"> <span class=version>Version 1.0.6</span></div><div class=right><ul><li><a href=/sources>Sources</a></li><li><a href=/software>Software</a></li><li><a href=/abbreviations>Abbreviations</a></li></ul></div></div></footer><script data-main=/asset/javascript/main src=/asset/javascript/require-2.1.17.min.js></script><script>!function(e,a,t,n,c,o,s){e.GoogleAnalyticsObject=c,e[c]=e[c]||function(){(e[c].q=e[c].q||[]).push(arguments)},e[c].l=1*new Date,o=a.createElement(t),s=a.getElementsByTagName(t)[0],o.async=1,o.src=n,s.parentNode.insertBefore(o,s)}(window,document,"script","//www.google-analytics.com/analytics.js","ga"),ga("create","UA-64109905-1","auto"),ga("send","pageview");</script><script type=application/ld+json>{
	"@context" : "http://schema.org",
	"@type" : "WebSite",
	"name" : "Scala on Android",
	"url" : "http://scala-on-android.taig.io/"
}</script><script type=application/ld+json>{
	"@context": "http://schema.org",
	"@type": "BreadcrumbList",
	"itemListElement":
	[
		
		{
			"@type": "ListItem",
			"position": 1,
			"item":
			{
				"@id": "/editor",
				"name": "Editors and IDEs"
			}
		},
		
		{
			"@type": "ListItem",
			"position": 2,
			"item":
			{
				"@id": "/editor/android-studio",
				"name": "Android Studio"
			}
		}
		
	]
}</script></body></html>