<!DOCTYPE html><html lang=en><head><meta charset=utf-8><meta name=description content="The Android SDK Plugin for SBT comes with the TR class as a typesafe extension of Android's R class"><meta name=keywords content="Scala on Android, Scala, Android, documentation, tutorial, development, typed resources, TR, R, findview"><meta name=viewport content="width=device-width,initial-scale=1,user-scalable=no"><title>Scala on Android</title><link rel=stylesheet type=text/css media=screen href=/asset/stylesheet/agate.css><link rel=stylesheet type=text/css media=screen href=/asset/stylesheet/main.css><link rel=icon href=/asset/image/favicon.png><link rel=manifest href=/manifest.json><meta property=og:title content="Scala on Android"><meta property=og:description content="The Android SDK Plugin for SBT comes with the TR class as a typesafe extension of Android's R class"><meta property=og:type content=website><meta property=og:url content=http://scala-on-android.taig.io/typed-resources><meta property=og:image content=/asset/image/scala-android-icon.svg><meta name=twitter:card content=summary><meta name=twitter:title content="Scala on Android"><meta name=twitter:description content="The Android SDK Plugin for SBT comes with the TR class as a typesafe extension of Android's R class"><meta name=twitter:image content=/asset/image/scala-android-icon.svg></head><body><header><div id=title><a href="/"><h1><strong>Scala</strong> on <strong>Android</strong></h1><h2>The comprehensive documentation</h2></a></div><nav><a href="/"><span>Table of contents</span></a><div class=shadow><div class=wrapper><ol><li><a href=/introduction>Introduction</a></li><li><a href=/about>About this documentation</a></li><li><a href=/prerequisites>Prerequisites</a></li><li><a href=/build-tool>Build Tool</a><ol><li><a href=/build-tool/sbt><em>Scala Build Tool (<abbr>sbt</abbr>)</em></a></li></ol></li><li><a href=/project-setup>Project setup</a></li><li><a href=/editor>Editors and <abbr title="Integrated Development Environment">IDE</abbr>s</a><ol><li><a href=/editor/intellij-idea><em>IntelliJ IDEA</em></a></li><li><a href=/editor/android-studio><em>Android Studio</em></a></li></ol></li><li><a href=/command-line>Working with the command line</a></li><li><a href=/dependencies>Dependencies</a></li><li><a href=/proguard><em>ProGuard</em></a><ol><li><a href=/proguard/cache>Cache</a></li></ol></li><li class=active><a href=/typed-resources><em>Typed Resources (<abbr>TR</abbr>)</em></a></li><li><a href=/parcelable><em>Parcelable</em></a></li><li><a href=/testing>Testing</a><ol><li><a href=/testing/robolectric><em>Robolectric</em></a></li></ol></li><li><a href=/library-project>Library projects</a></li><li><a href=/publishing>Publishing</a></li></ol></div></div></nav></header><main id=tr><section><div class="meta level-1"><button><span>Details</span></button><div class=wrapper><ul><li><span class=label>Information reliability</span> <span class=reliability><strong>Sustainable</strong> <em>Won't become outdated</em></span></li><li><span class=edit>Last edit</span> <span class=date>Fri Jul 10 19:44:32 2015 +0200</span></li><li><a href=https://github.com/taig/scala-on-android/edit/master/src/main/page/typed-resources/introduction.html target=_blank>Edit on <em>GitHub</em></a></li></ul></div></div><h2><em>Typed Resources (<abbr>TR</abbr>)</em></h2><p>As an extension of <em>Android</em>'s <code class=inline data-language="">R</code> class, the <em>Android SDK Plugin for SBT</em> introduces a the <code class=inline data-language=""><abbr title="Typed Resources">TR</abbr></code> class. It generates type safe mappings from ids in <abbr title="Extensible Markup Language">XML</abbr> views to their respective class. This is explained best by a simple example.</p><pre class=code><code class=highlight><span class=hljs-pi>&lt;?xml version="1.0" encoding="utf-8"?&gt;</span>

<span class=hljs-tag>&lt;<span class=hljs-title>LinearLayout</span> <span class=hljs-attribute>xmlns:android</span>=<span class=hljs-value>"http://schemas.android.com/apk/res/android"</span>&gt;</span>

	<span class=hljs-tag>&lt;<span class=hljs-title>TextView</span>
		<span class=hljs-attribute>android:id</span>=<span class=hljs-value>"@+id/my_title"</span>
		<span class=hljs-attribute>android:layout_width</span>=<span class=hljs-value>"wrap_content"</span>
		<span class=hljs-attribute>android:layout_height</span>=<span class=hljs-value>"wrap_content"</span> /&gt;</span>

<span class=hljs-tag>&lt;/<span class=hljs-title>LinearLayout</span>&gt;</span></code></pre></section><section><div class="meta level-1"><button><span>Details</span></button><div class=wrapper><ul><li><span class=label>Information reliability</span> <span class=reliability><strong>Sustainable</strong> <em>Won't become outdated</em></span></li><li><span class=edit>Last edit</span> <span class=date>Fri Jul 10 19:44:32 2015 +0200</span></li><li><a href=https://github.com/taig/scala-on-android/edit/master/src/main/page/typed-resources/java.html target=_blank>Edit on <em>GitHub</em></a></li></ul></div></div><h3><em>Java</em></h3><p>Based on the <abbr title="Extensible Markup Language">XML</abbr> view definition above, you will typically search for the <code class=inline data-language="">TextView</code> by its id to specify the title at runtime. This is a very common use case, and in <em>Java</em> it works as shown below.</p><pre class=code><code class=highlight><span class=hljs-keyword>public</span> <span class=hljs-class><span class=hljs-keyword>class</span> <span class=hljs-title>MyActivity</span> <span class=hljs-keyword>extends</span> <span class=hljs-title>Activity</span> </span>{
    <span class=hljs-annotation>@Override</span>
    <span class=hljs-function><span class=hljs-keyword>protected</span> <span class=hljs-keyword>void</span> <span class=hljs-title>onCreate</span><span class=hljs-params>( Bundle savedInstanceState )</span> </span>{
        <span class=hljs-keyword>super</span>.onCreate( savedInstanceState );

        setContentView( R.layout.view );

        TextView title = (TextView) findViewById( R.id.my_title );
        title.setText( <span class=hljs-string>"Hello Java!"</span> );
    }
}</code></pre></section><section><div class="meta level-1"><button><span>Details</span></button><div class=wrapper><ul><li><span class=label>Information reliability</span> <span class=reliability><strong>Sustainable</strong> <em>Won't become outdated</em></span></li><li><span class=edit>Last edit</span> <span class=date>Fri Jul 10 19:44:32 2015 +0200</span></li><li><a href=https://github.com/taig/scala-on-android/edit/master/src/main/page/typed-resources/scala.html target=_blank>Edit on <em>GitHub</em></a></li></ul></div></div><h3><em>Scala</em></h3><p>It is of course possible to do the exact same thing with <em>Scala</em>.</p><pre class=code><code class=highlight><span class=hljs-class><span class=hljs-keyword>class</span> <span class=hljs-title>MyActivity</span> <span class=hljs-keyword><span class=hljs-keyword>extends</span></span> <span class=hljs-title>Activity</span> {</span>
    <span class=hljs-keyword>override</span> <span class=hljs-function><span class=hljs-keyword>def</span> <span class=hljs-title>onCreate</span>(</span> savedInstanceState: <span class=hljs-type>Bundle</span> ) = {
        <span class=hljs-keyword>super</span>.onCreate( savedInstanceState )

        setContentView( <span class=hljs-type>R</span>.layout.main )

        <span class=hljs-function><span class=hljs-keyword>val</span> <span class=hljs-title>title</span> =</span> findViewById( <span class=hljs-type>R</span>.id.my_title ).asInstanceOf[<span class=hljs-type>TextView</span>]
        title.setText( <span class=hljs-string>"Hello Scala!"</span> )
    }
}</code></pre><p>But thanks to the <em>Typed Resources</em> you can get rid off the cast and therefore simplify the code and improve type safety at the same time.</p><pre class=code><code class=highlight><span class=hljs-class><span class=hljs-keyword>class</span> <span class=hljs-title>MyActivity</span> <span class=hljs-keyword><span class=hljs-keyword>extends</span></span> <span class=hljs-title>Activity</span> <span class=hljs-keyword><span class=hljs-keyword>with</span></span> <span class=hljs-title>TypedActivity</span> {</span>
    <span class=hljs-keyword>override</span> <span class=hljs-function><span class=hljs-keyword>def</span> <span class=hljs-title>onCreate</span>(</span> savedInstanceState: <span class=hljs-type>Bundle</span> ) = {
        <span class=hljs-keyword>super</span>.onCreate( savedInstanceState )

        setContentView( <span class=hljs-type>R</span>.layout.main )

        <span class=hljs-function><span class=hljs-keyword>val</span> <span class=hljs-title>title</span> =</span> findView( <span class=hljs-type>TR</span>.my_title )
        title.setText( <span class=hljs-string>"Hello Scala!"</span> )
    }
}</code></pre><p>The <code class=inline data-language="">TR</code> mappings are generated on every compile, when the <em>Android SDK Plugin for SBT</em> detects changes in the <code class=inline data-language="">R</code> class. Your <abbr title="Integrated Development Environment">IDE</abbr> usually helps you to keep the <code class=inline data-language="">R</code> up to date behind the scenes, but it won't do that for the <code class=inline data-language="">TR</code> class. You can still achieve a similar effect if you open your project <abbr title="Scala Build Tool">sbt</abbr> shell and run <code class=inline data-language="">~compile</code>. The tilde before the command tells <abbr title="Scala Build Tool">sbt</abbr> to repeat this task whenever it detects a file change.</p><p><code class=inline data-language="">TR</code> mappings only work for <abbr title="Extensible Markup Language">XML</abbr> widgets that use the <code class="inline highlight">android:id="@+id/xxx"</code> property. If you chose not to use the <code class=inline data-language="">TR</code> class you may want to disable it for performance reasons in your project's <abbr title="Scala Build Tool">sbt</abbr> configuration via <code class="inline highlight">typedResources := <span class=hljs-literal>false</span></code>.</p></section><section><div class="meta level-1"><button><span>Details</span></button><div class=wrapper><ul><li><span class=label>Information reliability</span> <span class=reliability><strong>Sustainable</strong> <em>Won't become outdated</em></span></li><li><span class=edit>Last edit</span> <span class=date>Wed Jun 24 17:48:48 2015 +0200</span></li><li><a href=https://github.com/taig/scala-on-android/edit/master/src/main/page/typed-resources/butterknife.html target=_blank>Edit on <em>GitHub</em></a></li></ul></div></div><h3><em>Butterknife</em></h3><p>The last <em>Scala</em> code example may be simplified further if your use case requires the view reference to be a class field.</p><pre class=code><code class=highlight><span class=hljs-class><span class=hljs-keyword>class</span> <span class=hljs-title>MyActivity</span> <span class=hljs-keyword><span class=hljs-keyword>extends</span></span> <span class=hljs-title>Activity</span> <span class=hljs-keyword><span class=hljs-keyword>with</span></span> <span class=hljs-title>TypedActivity</span> {</span>
    <span class=hljs-keyword>lazy</span> <span class=hljs-function><span class=hljs-keyword>val</span> <span class=hljs-title>title</span> =</span> findView( <span class=hljs-type>TR</span>.my_title )

    <span class=hljs-keyword>override</span> <span class=hljs-function><span class=hljs-keyword>def</span> <span class=hljs-title>onCreate</span>(</span> savedInstanceState: <span class=hljs-type>Bundle</span> ) = {
        <span class=hljs-keyword>super</span>.onCreate( savedInstanceState )

        setContentView( <span class=hljs-type>R</span>.layout.main )

        title.setText( <span class=hljs-string>"Hello Scala!"</span> )
    }

    <span class=hljs-keyword>override</span> <span class=hljs-function><span class=hljs-keyword>def</span> <span class=hljs-title>onResume</span>(</span>) = {
        <span class=hljs-keyword>super</span>.onResume()

        title.setText( <span class=hljs-string>"Welcome back, Scala!"</span> )
    }
}</code></pre><p>This does however force you to take care when accessing the <code class=inline data-language="">title</code> field because it will evaluate to <code class=inline data-language="">null</code> if the <code class=inline data-language="">setContentView()</code> class has not been executed yet. The workflow is very similar to the famous <a href="http://jakewharton.github.io/butterknife/" title="View &quot;injection&quot; library for Android" target=_blank><em>Butterknife</em></a> library, but works with basic language features and is much more transparent.</p></section><section data-src=sources.js data-level=0><h3>Further reading</h3><ul class=further-reading><li><a href="http://jakewharton.github.io/butterknife/" target=_blank><em>Butterknife</em></a><p>View "injection" library for <em>Android</em></p></li></ul></section><section><h3>Comments</h3><div id=disqus_thread></div><script type=text/javascript>var disqus_shortname="scala-on-android",disqus_identifier="tr",disqus_title="Scala on Android";!function(){var e=document.createElement("script");e.type="text/javascript",e.async=!0,e.src="//"+disqus_shortname+".disqus.com/embed.js",(document.getElementsByTagName("head")[0]||document.getElementsByTagName("body")[0]).appendChild(e)}();</script><noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript" rel="nofollow">comments powered by Disqus.</a></noscript></section></main><footer><div class=story><div class=back><a href=/proguard/cache>Cache</a></div><div class=continue><a href=/parcelable><em>Parcelable</em></a></div></div><div class=fixtures><div class=left><ul><li><a href="https://github.com/taig/scala-on-android/" title="Scala on Android" target=_blank>Fork me on <em>GitHub</em></a></li><li><a href=/help>Getting help</a></li></ul></div><div class=center><img src=/asset/image/scala-android-logo.svg alt="Scala on Android logo"> <span class=version>Version 1.0.5</span></div><div class=right><ul><li><a href=/sources>Sources</a></li><li><a href=/software>Software</a></li><li><a href=/abbreviations>Abbreviations</a></li></ul></div></div></footer><script data-main=/asset/javascript/main src=/asset/javascript/require-2.1.17.min.js></script><script>!function(e,a,t,n,c,o,s){e.GoogleAnalyticsObject=c,e[c]=e[c]||function(){(e[c].q=e[c].q||[]).push(arguments)},e[c].l=1*new Date,o=a.createElement(t),s=a.getElementsByTagName(t)[0],o.async=1,o.src=n,s.parentNode.insertBefore(o,s)}(window,document,"script","//www.google-analytics.com/analytics.js","ga"),ga("create","UA-64109905-1","auto"),ga("send","pageview");</script><script type=application/ld+json>{
	"@context" : "http://schema.org",
	"@type" : "WebSite",
	"name" : "Scala on Android",
	"url" : "http://scala-on-android.taig.io/"
}</script><script type=application/ld+json>{
	"@context": "http://schema.org",
	"@type": "BreadcrumbList",
	"itemListElement":
	[
		
		{
			"@type": "ListItem",
			"position": 1,
			"item":
			{
				"@id": "/typed-resources",
				"name": "Typed Resources (TR)"
			}
		}
		
	]
}</script></body></html>